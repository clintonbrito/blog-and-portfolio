---
title: 'Como Configurar Oracle Database Usando Docker'
date: '2024-10-28'
lastmod: '2026-10-28'
tags: ['Oracle', 'Database', 'Docker', 'Linux', 'docker-compose', 'DBeaver']
draft: false
summary: 'Aprenda a configurar e usar o Oracle Database no Docker em um ambiente Linux, usando docker-compose para simplificar o processo e conectar via DBeaver.'
images: ['/static/images/posts/oracle-database-docker-cover.png']
---

![oracle-database-docker](/static/images/posts/oracle-database-docker-cover.png "Imagem: Venkatesh Prabhu")


O texto a seguir descreve um guia pr√°tico para configurar o Oracle Database utilizando Docker no Linux, com foco em simplicidade e uso de `docker-compose.yml` para facilitar o processo de inicializa√ß√£o do container.


<TOCInline toc={props.toc} exclude="Introdu√ß√£o" />


## Introdu√ß√£o

Usar o Oracle Database dentro de um container Docker pode simplificar muito o processo de instala√ß√£o e gerenciamento de bancos de dados para desenvolvedores e administradores. Neste guia, vamos demonstrar como fazer isso de maneira simples, utilizando um arquivo `docker-compose.yml` para facilitar o processo e permitindo a conex√£o com a inst√¢ncia do Oracle Database atrav√©s de ferramentas como o DBeaver.



## Requisitos

Para seguir este tutorial, basta ter o Docker instalado e configurado na sua m√°quina. Caso precise de ajuda com a instala√ß√£o, consulte a [documenta√ß√£o oficial do Docker](https://docs.docker.com/engine/install/).

Apesar de o tutorial ser feito em uma distro Linux (Ubuntu), o Docker √© uma tecnologia universal, ent√£o ele pode ser facilmente adaptado para Windows ou Mac. Aqui, usarei a vers√£o XE 21c do Oracle Database.



## Baixando a Imagem do Oracle Database

Infelizmente, a Oracle n√£o disponibiliza as imagens de banco de dados diretamente no Docker Hub por quest√µes de licen√ßa, ent√£o voc√™ tem duas op√ß√µes:

1) Precisar√° baixar o instalador do Oracle Database e construir a imagem localmente usando um reposit√≥rio dispon√≠vel no GitHub. Neste caso, voc√™ pode seguir o tutorial do [Thiago Adriano no Medium da XP Inc.](https://medium.com/xp-inc/dica-r%C3%A1pida-criando-base-de-dados-oracle-vers%C3%A3o-21-3-0-no-docker-357b05754b84);
2) Usar uma imagem do [Docker Hub personalizada por terceiros](https://hub.docker.com/r/gvenzl/oracle-xe), como no meu tutorial abaixo.

Vale lembrar que esta √© uma imagem n√£o oficial da Oracle, mas amplamente utilizada, inclusive por empresas, e aberta para verifica√ß√£o no [GitHub do autor](https://github.com/gvenzl/oci-oracle-xe).



## Criando o Arquivo `docker-compose.yml`

Para simplificar a inicializa√ß√£o do container, voc√™ pode utilizar um arquivo `docker-compose.yml`. Este arquivo permitir√° que voc√™ inicie o Oracle Database com um simples comando `docker compose up` no seu terminal.

```yaml:docker-compose.yml
services:

  oracle:
  
    # Imagem do Docker Hub (sinta-se livre para trocar a tag "21-full" para qualquer outra que preferir)
    image: gvenzl/oracle-xe:21-full

    # Caso queira personalizar o nome do container, facilita na hora de interagir com ele nos comandos do docker do terminal
    container_name: oracle-db
    
    # Senha de "administrador" do banco
    environment:
      ORACLE_PASSWORD: welcome1

    # Porta padr√£o do banco Oracle
    ports:
      - 1521:1521

    # Esse volume √© montado com um script SQL que cria e concede permiss√µes de DBA para o usu√°rio que iremos criar ("C##JAVA")
    volumes:
      - ./create_user_and_grant_privileges.sql:/docker-entrypoint-initdb.d/create_user_and_grant_privileges.sql
```



## Sobre o Script SQL

O script utilizado no `docker-compose.yml` √© o abaixo:

```sql:create_user_and_grant_privileges.sql
CREATE USER C##JAVA IDENTIFIED BY java;
GRANT CONNECT, RESOURCE TO C##JAVA;
GRANT DBA TO C##JAVA;
```

Explicando rapidamente o que esse script faz:

- `CREATE USER C##JAVA IDENTIFIED BY java;` ‚Äî Cria um usu√°rio `C##JAVA` com a senha `java`.
- `GRANT CONNECT, RESOURCE TO C##JAVA;` ‚Äî Concede permiss√µes b√°sicas para o usu√°rio.
- `GRANT DBA TO C##JAVA;` ‚Äî Concede privil√©gios de administrador.


## Iniciando o Banco de Dados

Com o arquivo `docker-compose.yml` configurado, voc√™ pode subir o container com o seguinte comando no seu terminal:

```bash
docker compose up -d
```

Esse comando ir√° iniciar o container em segundo plano. Verifique se ele est√° funcionando corretamente usando:

```bash
docker ps
```

### Observa√ß√£o
![docker-compose-sql](/static/images/posts/docker-compose-sql.png)
*üí° Lembrando que, para o correto funcionamento do arquivo `docker-compose.yml`, tanto o arquivo Docker quanto o script SQL devem estar no mesmo diret√≥rio, conforme ilustrado no print acima.*


## Conectando ao Banco de Dados com DBeaver

Para conectar ao banco de dados usando DBeaver:

1. Abra o DBeaver e crie uma nova conex√£o.
2. Escolha "Oracle" como o tipo de banco de dados.
3. Preencha os campos:
   - **Host**: `localhost`
   - **Port**: `1521`
   - **Database**: `XE / SID`
   - **Authentication**: `Oracle Database Native`
   - **Username**: `C##JAVA`
   - **Password**: `java`
4. Clique em `"Test Connection..."` ou `"Finish / Ok"` para conectar.

![dbeaver-connection](/static/images/posts/dbeaver-connection.png)

Obs.: se for a primeira vez que voc√™ se conecta a um banco Oracle no seu DBeaver, √© normal ele pedir para fazer o download dos drivers da Oracle.



## Comandos √öteis para Gerenciar o Container

- **Parar o container**:

```bash
docker compose down
```

- **Iniciar novamente**:

```bash
docker compose up -d
```

- **Verificar logs**:

```bash
docker logs oracle-db
```

## Conclus√£o

Usar o Oracle Database no Docker √© uma √≥tima maneira de simplificar a configura√ß√£o e gerenciamento do banco de dados, especialmente para desenvolvedores que precisam de um ambiente de testes r√°pido e f√°cil de usar. Com `docker-compose`, voc√™ pode iniciar o banco de dados com um simples comando e conectar via ferramentas como DBeaver sem dificuldades.

Se voc√™ tiver mais alguma d√∫vida ou sugest√µes, fique √† vontade para entrar em contato comigo.
